{% extends "view/rootpage.html" %}
{% block title %}Register for the {{t.name}}{% endblock %}

{% block content %}
	<h2><i class="fa fa-keyboard-o"></i> {{t.name}} Registration</h2>

	{% if user %}

	{% if r.open %}
	<div class="panel panel-success">
		<div class="panel panel-heading">
			<ul class="nav nav-tabs">
			  <li><a href="/reg/institution?t={{t.key.id()}}"><i class="fa fa-building-o"></i> Institution</a></li>
			  <li><a href="/reg/judge?t={{t.key.id()}}"><i class="fa fa-gavel"></i> Independent Adjudicator</a></li>
			  <li class="active"><a href="/reg/team?t={{t.key.id()}}"><i class="fa fa-users"></i> Open Team</a></li>
			</ul>
		</div>
		<div class="panel panel-body">

			<h3>Speak Now, or forever hold your peace.</h3>

			{% if form.errors %}
			    <ul class="errors">
			        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
			            {% for error in field_errors %}
			                <li>{{ form[field_name].label }}: {{ error }}</li>
			            {% endfor %}
			        {% endfor %}
			    </ul>
			{% endif %}

			<form role="form" action="/reg/team?t={{t.key.id()}}" method="post">

<div class="alert alert-warning col-md-12">
					<h3>Are these your details?</h3>

					<p>
						The following information will be sent to the convenors of {{t.name}}. This information
					comes from your Tournatrack profile, you may change this information at any time in
					your <a href="/update_profile" target="_blank">profile settings</a>.
					</p>

					<div class="form-group col-md-12">
						<label for="name">Name</label>
						<input class="form-control" disabled value="{{user.full_name}}" />
					</div>

					<div class="form-group col-md-6">
						<label for="phone">Telephone Number</label>
						<input class="form-control" disabled value="{{user.phone}}" />
					</div>

					<div class="form-group col-md-6">
						<label for="phone">Email</label>
						<input class="form-control" disabled value="{{user.preferredEmail()}}" />
					</div>

				</div>

				<div class="form-group col-md-12">
			    	<label for="teamName">Your Team Name</label>
					{{form.teamName(class="form-control", placeholder="The best ones contain in-jokes")}}
			  	</div>

					<div class="alert alert-info col-md-12">
						<h3>Speaker Details</h3>
						<p>
							For each speaker you must provide either their name, or their
							Tournatrack DebaterID. If you use their DebaterID, this tournament
							will be linked to their account, and  they will receive updates from
							the tournament convenors. You can find your DebaterID at the top of your
							Debater CV.
						</p>
					</div>

				<div class="well well-lg col-md-6">
					<h2><span class="glyphicon glyphicon-user "></span>&nbsp;Speaker 1</h2>
					<div class="form-group col-md-12">
						<label for="sp1Name">Name</label>
						{{form.sp1Name(class="form-control", value="Speaker 1")}}
					</div>
					<label class="col-md-6">
					    Novice? {{form.sp1Novice(class="form-control")}}
					</label>
					<label class="col-md-6">
					    ESL? {{form.sp1ESL(class="form-control")}}
					</label>

				</div>
				<div class="well well-lg col-md-6">
					<h2><span class="glyphicon glyphicon-user "></span>&nbsp;Speaker 2</h2>
					<div class="form-group col-md-12">
						<label for="sp2Name">Name</label>
						{{form.sp2Name(class="form-control", value="Speaker 2")}}
					</div>
					<label class="col-md-6">
					    Novice? {{form.sp2Novice(class="form-control")}}
					</label>
					<label class="col-md-6">
					    ESL? {{form.sp2ESL(class="form-control")}}
					</label>


				</div>

				<div class="col-md-12">
			   	<button type="submit" class="btn btn-primary">Submit</button>
				</div>
			</form>

		</div>
	</div>

	{% else %}
	<p>Sorry, registration for this tournament is currently closed</p>
	{% endif %}

	{% else %}

		You need to <a href="{{login}}">sign in</a> with your Google account to register for this tournament.

	{% endif %}


{% endblock %}
